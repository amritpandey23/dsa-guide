<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    
    <link rel="shortcut icon" href="../../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>Backtracking - Data Structures and Algorithms Guide</title>
    <link href="../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../css/highlight.css">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../js/jquery-3.2.1.min.js"></script>
    <script src="../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "Backtracking", url: "#_top", children: [
              {title: "Finding valid permutation", url: "#finding-valid-permutation" },
          ]},
        ];

    </script>
    <script src="../../js/base.js"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../../dynamic_programming/longest_common_subsequence/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../../dynamic_programming/longest_common_subsequence/" class="btn btn-xs btn-link">
        Longest Common Subsequence
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../../heap/priority_queue/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../../heap/priority_queue/" class="btn btn-xs btn-link">
        Priority Queue
      </a>
    </div>
    
  </div>

    

    <h1 id="backtracking">Backtracking</h1>
<p>Backtracking is a strategy where we solve a problem for all possible patterns and stop after receiving the best solution.
The base idea to retract our solution to the best possible condition from where other solution can be made of branched is to undo any changes we've made.
What I mean by that is the magic of backtracking is to <strong>rub out the non-working solution</strong> to a point where the solution can be made working again.</p>
<h2 id="finding-valid-permutation">Finding valid permutation</h2>
<h4 id="problem">Problem</h4>
<p>Given a string "ABC" find out if permutation "CBA" is possible from all the characters of the string.</p>
<h4 id="solution">Solution</h4>
<p>The permutations of string "ABC" are {"ABC", "ACB", "BCA", "BAC", "CAB", "CBA"}.
As we can see the total number of permutations for "ABC" are <code>Factorial(3)</code> which equals <code>6</code>.
And after generating the permutations "CBA" is also a valid permutation.</p>
<p>We can solve this problem in a problem by applying backtracking as follows:</p>
<pre><code class="language-java">class BacktrackingExample {
   public static boolean hasPermutation(String text, String pattern) {
        int[] usedMap = new int[text.length()];
        return isPermutePossible(text, pattern, &quot;&quot;, usedMap);
    }

    public static boolean isPermutePossible(String text, String pattern, String resultText,
            int[] usedMap) {
        if (text.length() &gt; pattern.length()) {
            return false;
        }
        if (resultText.length() == text.length()) {
            if (pattern.equals(resultText)) {
                return true;
            }
        }
        for (int i = 0; i &lt; text.length(); ++i) {
            if (usedMap[i] == 0) { // character is not used so far
                String newResultText = resultText + text.charAt(i);
                usedMap[i] = 1; // set character as used
                boolean isPossible = isPermutePossible(text, pattern, newResultText, usedMap);
                if (isPossible) { // solution is possible
                    return true; // cut the branch
                }
                usedMap[i] = 0; // free character to be used again
            }
        }
        return false;
    } 
}
</code></pre>
<h4 id="problem_1">Problem</h4>
<p>Rat in a Maze. You have maze where the rat is left to wander in the start and is forced to find the path outside of the maze; rat can only move down and right direction. This 2D arrays shows the maze:</p>
<pre><code>[[0, 1, 0, 0],
 [0, 0, 1, 0],
 [0, 0, 0, 1],
 [0, 1, 0, 2]]
</code></pre>
<p>The value <code>2</code> in the array is the position where rat can escape or exit the maze. The rat always start at index <code>(0, 0)</code>.</p>
<h4 id="solution_1">Solution</h4>
<pre><code class="language-java">public class RatInMaze {
    public boolean canRatEscape(int[][] maze, int start, int end) {
        int n = maze.length;
        int m = maze[0].length;
        if (start == n || end == m || maze[start][end] == 1 || maze[start][end] == 3) {
            return false;
        }
        if (maze[start][end] == 2) { // rat reached the exit in maze
            return true;
        }
        maze[start][end] = 3; // marking visited
        if (canRatEscape(maze, start + 1, end) || canRatEscape(maze, start, end + 1)) {
            return true;
        }
        maze[start][end] = 0; // unmarking visited so that new solution can be made
        return false;
    }
}
</code></pre>

  <br>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../../dynamic_programming/longest_common_subsequence/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../../dynamic_programming/longest_common_subsequence/" class="btn btn-xs btn-link">
        Longest Common Subsequence
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../../heap/priority_queue/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../../heap/priority_queue/" class="btn btn-xs btn-link">
        Priority Queue
      </a>
    </div>
    
  </div>

    <br>
</div>

<footer class="container-fluid wm-page-content">
  <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>