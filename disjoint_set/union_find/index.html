<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<link href="../../img/favicon.ico" rel="shortcut icon"/>
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
<title>Union-Find Algorithm - Data Structures and Algorithms Guide</title>
<link href="../../css/bootstrap-3.3.7.min.css" rel="stylesheet"/>
<link href="../../css/font-awesome-4.7.0.css" rel="stylesheet"/>
<link href="../../css/base.css" rel="stylesheet"/>
<link href="../../css/highlight.css" rel="stylesheet"/>
<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
<script src="../../js/jquery-3.2.1.min.js"></script>
<script src="../../js/bootstrap-3.3.7.min.js"></script>
<script src="../../js/highlight.pack.js"></script>
<base target="_top"/>
<script>
      var base_url = '../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "Union-Find Algorithm for Disjoint Set", url: "#_top", children: [
          ]},
          {title: "Kruskal\u0027s Algorithm", url: "#kruskals-algorithm", children: [
          ]},
        ];

    </script>
<script src="../../js/base.js"></script>
</meta></head>
<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>
<div class="container-fluid wm-page-content">
<a name="_top"></a>
<div aria-label="navigation" class="row wm-article-nav-buttons" role="navigation">
<div class="wm-article-nav pull-right">
<a class="btn btn-xs btn-default pull-right" href="../../graph/detect_cycle_in_directed_graph/">
        Next
        <i aria-hidden="true" class="fa fa-chevron-right"></i>
</a>
<a class="btn btn-xs btn-link" href="../../graph/detect_cycle_in_directed_graph/">
        Detect Cycle in Directed Graph
      </a>
</div>
<div class="wm-article-nav">
<a class="btn btn-xs btn-default pull-left" href="../../matrix/matrix_operations/">
<i aria-hidden="true" class="fa fa-chevron-left"></i>
        Previous</a><a class="btn btn-xs btn-link" href="../../matrix/matrix_operations/">
        Operations on Matrices
      </a>
</div>
</div>
<h2 id="union-find-algorithm-for-disjoint-set">Union-Find Algorithm for Disjoint Set</h2>
<p><strong>Initialization of parents and ranks</strong>:</p>
<pre><code class="language-java">class UnionFind {
    public void initialize(int[] parents, int[] ranks) {
        int N = parents.length;
        for (int i = 0; i &lt; N; ++i) {
            parents[i] = i;
            ranks[i] = 0;
        }
    }
}
</code></pre>
<p><strong>Find algorithm</strong>:</p>
<pre><code class="language-java">class UnionFind {
    public int find(int x, int[] parents) {
        if (parents[x] == x) {
            return x;
        }
        return find(parents[x], parents);
    }
}
</code></pre>
<p><strong>Find Algorithm with Path compression</strong>:</p>
<p>Why Path compression? Because ultimately we want to reach the root parent of the tree. What if we set the root parent directly for the given element? This way we don't have to traverse the tree to find the root parent.</p>
<pre><code class="language-java">class UnionFind {
    public int find(int x, int[] parent) {
        if (x == parent[x]) {
            return x;
        }
        parent[x] = find(parent[x], parent); // path compression
        return parent[x];
    }
}
</code></pre>
<p><strong>Union Algorithm</strong>:</p>
<pre><code class="language-java">class UnionFind {
    public void union(int x, int y, int[] parents) {
        int parentX = find(x, parents);
        int parentY = find(y, parents);

        if (parentX == parentY) {
            return;
        }

        parent[parentY] = parentX;
    }
}
</code></pre>
<p><strong>Union by Rank Algorithm</strong>:</p>
<p>Why do we need the ranking? Because with simple Union operation, a chain is formed that takes O(n) time to find the parent in the worst case and then unionize two elements.</p>
<pre><code class="language-java">class UnionRankFind {
    public void union(int x, int y, int[] parents, int[] ranks) {
        int parentX = find(x, parents);
        int parentY = find(y, parents);

        if (parentX == parentY) {
            return;
        }

        if (ranks[parentX] &gt; ranks[parentY]) { // union based on ranking
            parents[parentY] = parentX;
        } else if (ranks[parentY] &gt; ranks[parentX]) {
            parents[parentX] = parentY;
        } else {
            parents[parentY] = parentX;
            ranks[parentX]++;
        }
    }
}
</code></pre>
<h2 id="kruskals-algorithm">Kruskal's Algorithm</h2>
<p>With Kruskal's algorithm we find the Minimum Spanning Tree of any Graph. A MST is a graph which has the minimum number of least costly edges which can create a connected graph. In a Kruskal's algorithm we are given an array of edges along with their weights and asked to return an array of edges that are required to create a MST.</p>
<p><strong>For the given graph below:</strong></p>
<div class="mermaid">graph TD
    A --10--&gt; B
    A --15--&gt; C
    B --5--&gt; C
    B --10--&gt; D
    C --20--&gt; D
    C --25--&gt; E
    D --15--&gt; E
</div>
<p><strong>The MST is as follows:</strong></p>
<div class="mermaid">graph TD
    A --10--&gt; B
    B --5--&gt; C
    B --10--&gt; D
    D --15--&gt; E
</div>
<p><strong>Kruskal's Algorithm</strong>:</p>
<pre><code class="language-java">class Kruskals {
    // Edge: [src, dest, cost]
    public List&lt;Edge&gt; kruskalsAlgorithm(Edge[] edges, int totalNodes) {
        List&lt;Edge&gt; mst = new ArrayList&lt;&gt;();
        int totalProcessedNode = 1;
        int[] parent = new int[totalNodes];
        int[] rank = new int[totalNodes];
        for (int i = 0; i &lt; totalNodes; ++i) {
            parent[i] = i;
        }

        Arrays.sort(edges, (e1, e2) -&gt; e1[2] - e2[2]); // sorting array based on cost
        for (int i = 0; i &lt; edges.length &amp;&amp; totalProcessedNodes != totalNodes; ++i) {
            Edge e = edges[i];
            int src = e[0];
            int dest = e[1];
            if (find(src, parent) == find(dest, parent)) {
                continue; // ignore if edge was already added
            }
            totalProcessedNode++;
            union(src, dest, parent, rank);
            mst.add(e);
        }
        return mst;
    }

    private void union(int src, int dest, int[] parent, int[] rank) {
        if (find(src, parent) == find(dest, parent)) {
            return;
        }
        parSrc = find(src, parent);
        parDest = find(dest, parent);
        if (rank[parSrc] &gt; rank[parDest]) {
            parent[parDest] = parSrc;
        } else if (rank[parDest] &gt; rank[parSrc]) {
            parent[parSrc] = parDest;
        } else {
            parent[parDest] = parSrc;
            rank[parSrc]++;
        }
    }

    private int find(int src, int[] parent) {
        if (src == parent[src]) {
            return src;
        }
        parent[src] = find(parent[src], parent);
        return parent[src];
    }
}
</code></pre>
<br/>
<div aria-label="navigation" class="row wm-article-nav-buttons" role="navigation">
<div class="wm-article-nav pull-right">
<a class="btn btn-xs btn-default pull-right" href="../../graph/detect_cycle_in_directed_graph/">
        Next
        <i aria-hidden="true" class="fa fa-chevron-right"></i>
</a>
<a class="btn btn-xs btn-link" href="../../graph/detect_cycle_in_directed_graph/">
        Detect Cycle in Directed Graph
      </a>
</div>
<div class="wm-article-nav">
<a class="btn btn-xs btn-default pull-left" href="../../matrix/matrix_operations/">
<i aria-hidden="true" class="fa fa-chevron-left"></i>
        Previous</a><a class="btn btn-xs btn-link" href="../../matrix/matrix_operations/">
        Operations on Matrices
      </a>
</div>
</div>
<br/>
</div>
<footer class="container-fluid wm-page-content">
<p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>
<script type="module">import mermaid from "https://unpkg.com/mermaid@10.4.0/dist/mermaid.esm.min.mjs";
mermaid.initialize({});</script></body>
</html>